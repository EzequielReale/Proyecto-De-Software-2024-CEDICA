{% extends "layout.html" %}

{% block title %}CEDICA - Editar miembro del equipo{% endblock %}

{% block head %}
{{ super() }}
{% endblock %}

{% block content %}
  <h1>Editar miembro del equipo</h1>
  <p>Formulario para editar un miembro del equipo existente.</p>
  <form method="post">
    <div class="form-group">
      <label for="name">Nombre:</label>
      <input type="text" class="form-control" id="name" name="name" value="{{ member.name }}" required>
    </div>
    <div class="form-group">
      <label for="last_name">Apellido:</label>
      <input type="text" class="form-control" id="last_name" name="last_name" value="{{ member.last_name }}" required>
    </div>
    <div class="form-group">
      <label for="dni">DNI:</label>
      <input type="text" class="form-control" id="dni" name="dni" value="{{ member.dni }}" required>
    </div>
    <div class="form-group">
      <label for="phone">Teléfono:</label>
      <input type="text" class="form-control" id="phone" name="phone" value="{{ member.phone }}" required>
    </div>
    <div class="form-group">
      <label for="emergency_phone">Teléfono de emergencia:</label>
      <input type="text" class="form-control" id="emergency_phone" name="emergency_phone" value="{{ member.emergency_phone }}" required>
    </div>
    <div class="form-group">
      <label for="street">Calle:</label>
      <input type="text" class="form-control" id="street" name="street" value="{{ member.street }}" required>
    </div>
    <div class="form-group">
      <label for="number">Número:</label>
      <input type="text" class="form-control" id="number" name="number" value="{{ member.number }}" required>
    </div>
    <div class="form-group">
      <label for="locality_id">Localidad:</label>
      <select class="form-control" id="locality_id" name="locality_id" required>
        {% for locality in localities %}
          <option value="{{ locality.id }}" {% if locality.id == member.locality_id %}selected{% endif %}>{{ locality.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" class="form-control" id="email" name="email" value="{{ member.email }}" required>
    </div>
    <div class="form-group">
      <label for="start_date">Fecha de inicio:</label>
      <input type="date" class="form-control" id="start_date" name="start_date" value="{{ member.start_date.strftime('%Y-%m-%d') }}" required>
    </div>
    <div class="form-group">
      <label for="end_date">Fecha de fin:</label>
      <input type="date" class="form-control" id="end_date" name="end_date" value="{% if member.end_date %}{{ member.end_date.strftime('%Y-%m-%d') }}{% endif %}">
    </div>
    <div class="form-group">
      <label for="health_insurance">Seguro médico:</label>
      <input type="text" class="form-control" id="health_insurance" name="health_insurance" value="{{ member.health_insurance }}" required>
    </div>
    <div class="form-group">
      <label for="health_insurance_number">Número de seguro médico:</label>
      <input type="text" class="form-control" id="health_insurance_number" name="health_insurance_number" value="{{ member.health_insurance_number }}" required>
    </div>
    <div class="form-group">
      <label for="condition">Condición:</label>
      <select class="form-control" id="condition" name="condition" required>
        <option value="Voluntario" {% if member.condition == 'V olutario' %}selected{% endif %}>Voluntario</option>
        <option value="Personal Rentado" {% if member.condition == 'Personal Rentado' %}selected{% endif %}>Personal Rentado</option>
      </select>
    </div>
    <div class="form-group">
      <label for="active">Activo:</label>
      <select class="form-control" id="active" name="active" required>
        <option value="true" {% if member.active %}selected{% endif %}>Sí</option>
        <option value="false" {% if not member.active %}selected{% endif %}>No</option>
      </select>
    </div>
    <div class="form-group">
      <label for="profession_id">Profesión:</label>
      <select class="form-control" id="profession_id" name="profession_id" required>
        {% for profession in professions %}
          <option value="{{ profession.id }}" {% if profession.id == member.profession_id %}selected{% endif %}>{{ profession.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="job_id">Trabajo:</label>
      <select class="form-control" id="job_id" name="job_id" required>
        {% for job in jobs %}
          <option value="{{ job.id }}" {% if job.id == member.job_id %}selected{% endif %}>{{ job.name }}</option>
        {% endfor %}
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Actualizar</button>
  </form>
{% endblock %}